{"version":3,"sources":["context/RestaurantsContext.js","components/Header.jsx","apis/RestaurantFinder.js","components/RestaurantAdd.jsx","components/StarRating.jsx","components/RestaurantList.jsx","pages/Home.js","App.js","reportWebVitals.js","index.js"],"names":["RestaurantsContext","createContext","RestaurantsContextProvider","children","useState","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","value","addRestaurants","newRestaurant","Provider","Header","className","RestaurantFinder","URL","all","a","fetch","response","json","byId","restaurant_id","add","name","location","price_range","method","headers","body","JSON","stringify","delete","update","id","addReview","review","rating","RestaurantAdd","useContext","setName","setLocation","priceRange","setPriceRange","handleSubmit","e","preventDefault","data","insertId","console","log","onChange","target","type","placeholder","disabled","onClick","StarRating","stars","i","push","Math","ceil","Number","isInteger","RestaurantList","props","history","useHistory","useEffect","fetchData","handleDelete","stopPropagation","filter","restaurant","renderRating","count","average_rating","scope","map","repeat","handleUpdate","Home","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c44518fd.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\r\n\r\nexport const RestaurantsContext = createContext();\r\n\r\nexport const RestaurantsContextProvider = ({ children }) => {\r\n    \r\n    const [restaurants, setRestaurants] = useState([])\r\n    const [selectedRestaurant, setSelectedRestaurant] = useState(null)\r\n\r\n    const addRestaurants = (newRestaurant) => {\r\n        setRestaurants([...restaurants, newRestaurant])\r\n    }\r\n\r\n    const value = {\r\n        restaurants,\r\n        setRestaurants,\r\n        addRestaurants,\r\n        selectedRestaurant,\r\n        setSelectedRestaurant\r\n    }\r\n    return (\r\n        <RestaurantsContext.Provider value={value}>\r\n            {children}\r\n        </RestaurantsContext.Provider>\r\n    )\r\n\r\n}","const Header = () => {\r\n    return (\r\n        <div>\r\n            <h1 className=\"font-weight-light display-1 text-center\">\r\n                Restaurant Finder\r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\nexport default Header\r\n","const RestaurantFinder = {};\r\nconst URL = \"https://ywf-backend-restaurant-finder.herokuapp.com/api/v1/restaurants/\"\r\n// const URL = \"http://localhost:4500/api/v1/restaurants/\"\r\n\r\n\r\nRestaurantFinder.all = async () => {\r\n     const response = await fetch(URL)\r\n        return await response.json()\r\n}\r\n\r\nRestaurantFinder.byId = async (restaurant_id) => {\r\n    const response = await fetch(URL + restaurant_id)\r\n    return await response.json()\r\n}\r\n\r\nRestaurantFinder.add = async ({name, location, price_range }) => {\r\n    const response = await fetch(URL, {\r\n        method: \"POST\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, location, price_range })\r\n    })\r\n    return await response.json()\r\n}\r\n\r\nRestaurantFinder.delete = async (restaurant_id) => {\r\n    const response = await fetch(URL + restaurant_id, {\r\n        method: \"DELETE\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ })\r\n    })\r\n    return await response.json()\r\n}\r\n\r\nRestaurantFinder.update = async ({ id, name, location, price_range }) => {\r\n    const response = await fetch(URL + id, {\r\n        method: \"PUT\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, location, price_range })\r\n    })\r\n    return await response.json()\r\n}\r\n\r\nRestaurantFinder.addReview = async ( restaurant_id, name, review, rating ) => {\r\n    const response = await fetch(URL + restaurant_id + '/review', {\r\n        method: \"POST\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, review, rating })\r\n    })\r\n    return await response.json()\r\n}\r\n\r\n\r\n\r\nexport default RestaurantFinder;","import React, { useState, useContext } from \"react\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\n\r\nconst RestaurantAdd = () => {\r\n  const { addRestaurants } = useContext(RestaurantsContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [priceRange, setPriceRange] = useState(\"Price Range\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await RestaurantFinder.add({\r\n        name,\r\n        location,\r\n        price_range: priceRange,\r\n      });\r\n      const newRestaurant = { id: response.data.insertId, name,location, price_range: priceRange }\r\n      addRestaurants(newRestaurant);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <form className=\"form\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <input\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"name\"\r\n          />\r\n          </div>\r\n          <div className=\"col\">\r\n            <input\r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              placeholder=\"location\"\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <select\r\n              value={priceRange}\r\n              onChange={(e) => setPriceRange(e.target.value)}\r\n              className=\"custom-select my-1 mr-sm-2\"\r\n            >\r\n              <option disabled>Price Range</option>\r\n              <option value=\"1\">$</option>\r\n              <option value=\"2\">$$</option>\r\n              <option value=\"3\">$$$</option>\r\n              <option value=\"4\">$$$$</option>\r\n              <option value=\"5\">$$$$$</option>\r\n            </select>\r\n          </div>\r\n          <button\r\n          onClick={handleSubmit}\r\n            type=\"submit\"\r\n            className=\"col btn btn-primary\"\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n      </form>            \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantAdd","import { FaStarHalfAlt, FaStar } from 'react-icons/fa'\r\nimport { FiStar } from 'react-icons/fi'\r\n\r\nconst StarRating = ({ rating }) => {\r\n    // rating =3.2\r\n    const stars = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      if (i <= rating) {\r\n        // stars.push(<i key={i} className=\"fas fa-star text-warning\"></i>);\r\n        stars.push(<FaStar key={i} className=\"text-warning\" />);\r\n      } else if (i === Math.ceil(rating) && !Number.isInteger(rating)) {\r\n          // stars.push(<i key={i} className=\"fas fa-star-half-alt text-warning\"></i>);\r\n        stars.push(<FaStarHalfAlt key={i} className=\"text-warning\" />);\r\n      } else {\r\n        // stars.push(<i key={i} className=\"far fa-star text-warning\"></i>);\r\n        stars.push(<FiStar key={i} className=\"text-warning\" />);\r\n      }\r\n    }\r\n    return <>{stars}</>;\r\n  };\r\n  export default StarRating;","import React, { useEffect, useContext } from \"react\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport StarRating from \"./StarRating\";\r\n\r\nconst RestaurantList = (props) => {\r\n  const { restaurants, setRestaurants } = useContext(RestaurantsContext);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await RestaurantFinder.all();\r\n        setRestaurants(response.data);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleDelete = async (e, id) => {\r\n    e.stopPropagation();\r\n    try {\r\n      const response = await RestaurantFinder.delete(id);\r\n      setRestaurants(\r\n        restaurants.filter((restaurant) => {\r\n          return restaurant.id !== id;\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = (e, id) => {\r\n    e.stopPropagation();\r\n    history.push(`/restaurants/${id}/update`);\r\n  };\r\n\r\n  const handleRestaurantSelect = (id) => {\r\n    history.push(`/restaurants/${id}`);\r\n  };\r\n\r\n\r\n  const renderRating = (restaurant) => {\r\n    if (!restaurant.count) {\r\n      return <span className=\"text-warning\">0 reviews</span>;\r\n    }\r\n    return (\r\n      <>\r\n        <StarRating rating={restaurant.average_rating} />\r\n        <span className=\"text-warning ml-1\">({restaurant.count})</span>\r\n      </>\r\n    );\r\n  };\r\n  \r\n  \r\n  return (\r\n    <div className=\"list-group\">\r\n      <table className=\"table table-hover table-dark\">\r\n        <thead>\r\n          <tr className=\"bg-primary\">\r\n            <th scope=\"col\">Restaurant</th>\r\n            <th scope=\"col\">Location</th>\r\n            <th scope=\"col\">Price Range</th>\r\n            <th scope=\"col\">Ratings</th>\r\n            <th scope=\"col\">Edit</th>\r\n            <th scope=\"col\">Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {restaurants &&\r\n            restaurants.map((restaurant) => {\r\n              return (\r\n                <tr\r\n                  onClick={() => handleRestaurantSelect(restaurant.id)}\r\n                  key={restaurant.id}\r\n                >\r\n                  <td>{restaurant.name}</td>\r\n                  <td>{restaurant.location}</td>\r\n                  <td>{\"$\".repeat(restaurant.price_range)}</td>\r\n                  <td>{renderRating(restaurant)}</td>\r\n                  <td>\r\n                    <button\r\n                      onClick={(e) => handleUpdate(e, restaurant.id)}\r\n                      className=\"btn btn-warning\"\r\n                    >\r\n                      Update\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      onClick={(e) => handleDelete(e, restaurant.id)}\r\n                      className=\"btn btn-danger\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\nexport default RestaurantList;","import Header from '../components/Header'\r\nimport RestaurantAdd from '../components/RestaurantAdd'\r\nimport RestaurantList from '../components/RestaurantList'\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <RestaurantAdd />\r\n            <RestaurantList />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { RestaurantsContextProvider } from './context/RestaurantsContext';\nimport Home from './pages/Home';\nimport RestaurantDetail from './pages/RestaurantDetail';\nimport RestaurantUpdate from './pages/RestaurantUpdate';\n\nconst App = () => {\n  return (\n    <RestaurantsContextProvider>\n      <div className=\"container\">\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            {/* <Route exact path=\"/restaurants/:id/update\" component={RestaurantUpdate} />\n            <Route exact path=\"/restaurants/:id\" component={RestaurantDetail} />\n            <Route path=\"/*\">\n              <Redirect to=\"/\" />\n            </Route> */}\n          </Switch>\n        </Router>\n      </div>\n    </RestaurantsContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}